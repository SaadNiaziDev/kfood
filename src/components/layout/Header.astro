---
import Logo from "../../assets/logo.png";
import type { ImageMetadata } from "astro";
import { Search, Menu, X } from "@lucide/astro";

const logo: ImageMetadata = Logo;
---

<header class='sticky top-0 z-50'>
	<div class='h-10 w-full bg-kfood-primary'></div>
	<nav
		class='flex min-h-[80px] md:min-h-[110px] items-center justify-between bg-kfood-background px-4 py-4 md:px-10 font-body'>
		<a href='/' class='flex shrink-0'>
			<img src={logo.src} alt='K Food Logo' class='h-[50px] md:h-[79px] w-auto object-contain' />
		</a>

		<ul class='hidden items-center gap-6 lg:flex xl:gap-8 text-[15px] leading-[15px] text-kfood-primary'>
			<li><a href='/' class='hover:opacity-80 transition-opacity'>Home</a></li>
			<li><a href='#about-kfood' class='hover:opacity-80 transition-opacity'>About KFood</a></li>
			<li class='flex items-center gap-0.5'>
				<a href='#products' class='hover:opacity-80 transition-opacity'>Products</a>
				<svg
					class='h-5 w-5 shrink-0 text-kfood-primary'
					viewBox='0 0 24 24'
					fill='none'
					stroke='currentColor'
					stroke-width='2'
					aria-hidden='true'><path d='M6 9l6 6 6-6'></path></svg
				>
			</li>
			<li class='flex items-center gap-0.5'>
				<a href='#network-trust' class='hover:opacity-80 transition-opacity'>Our Brands</a>
				<svg
					class='h-5 w-5 shrink-0 text-kfood-primary'
					viewBox='0 0 24 24'
					fill='none'
					stroke='currentColor'
					stroke-width='2'
					aria-hidden='true'><path d='M6 9l6 6 6-6'></path></svg
				>
			</li>
			<li><a href='#careers' class='hover:opacity-80 transition-opacity'>Careers</a></li>
			<li><a href='#store-locator' class='hover:opacity-80 transition-opacity'>Find a Store</a></li>
			<li><a href='#partner-form' class='hover:opacity-80 transition-opacity'>Partnerships</a></li>
			<li><a href='#news-section' class='hover:opacity-80 transition-opacity'>News</a></li>
		</ul>

		<div class='hidden lg:flex items-center gap-6'>
			<a
				href='#'
				class='rounded-button bg-kfood-primary px-5 py-2.5 text-white transition-opacity hover:opacity-90 text-body-sm'>
				Shop Online
			</a>
			<button type='button' class='flex items-center justify-center text-kfood-primary' aria-label='Search'>
				<Search class='h-6 w-6' />
			</button>
		</div>

		<button
			type='button'
			id='mobile-menu-button'
			class='lg:hidden flex items-center justify-center text-kfood-primary'
			aria-label='Toggle menu'>
			<Menu class='h-7 w-7' id='menu-icon' />
			<X class='h-7 w-7 hidden' id='close-icon' />
		</button>
	</nav>

	<div id='mobile-menu' class='hidden lg:hidden bg-kfood-background border-t border-gray-200'>
		<ul class='flex flex-col py-4 px-4 space-y-3 text-kfood-primary font-body'>
			<li><a href='/' class='block py-2 hover:opacity-80 transition-opacity'>Home</a></li>
			<li><a href='#about-kfood' class='block py-2 hover:opacity-80 transition-opacity'>About KFood</a></li>
			<li><a href='#products' class='block py-2 hover:opacity-80 transition-opacity'>Products</a></li>
			<li><a href='#network-trust' class='block py-2 hover:opacity-80 transition-opacity'>Our Brands</a></li>
			<li><a href='#careers' class='block py-2 hover:opacity-80 transition-opacity'>Careers</a></li>
			<li><a href='#store-locator' class='block py-2 hover:opacity-80 transition-opacity'>Find a Store</a></li>
			<li><a href='#partner-form' class='block py-2 hover:opacity-80 transition-opacity'>Partnerships</a></li>
			<li><a href='#news-section' class='block py-2 hover:opacity-80 transition-opacity'>News</a></li>
			<li class='pt-2 border-t border-gray-200'>
				<a
					href='#'
					class='block w-full rounded-button bg-kfood-primary px-5 py-2.5 text-white text-center transition-opacity hover:opacity-90'>
					Shop Online
				</a>
			</li>
		</ul>
	</div>
</header>

<script>
	const menuButton = document.getElementById("mobile-menu-button");
	const mobileMenu = document.getElementById("mobile-menu");
	const menuIcon = document.getElementById("menu-icon");
	const closeIcon = document.getElementById("close-icon");

	menuButton?.addEventListener("click", () => {
		mobileMenu?.classList.toggle("hidden");
		menuIcon?.classList.toggle("hidden");
		closeIcon?.classList.toggle("hidden");
	});

	const mobileLinks = mobileMenu?.querySelectorAll("a");
	mobileLinks?.forEach((link) => {
		link.addEventListener("click", () => {
			mobileMenu?.classList.add("hidden");
			menuIcon?.classList.remove("hidden");
			closeIcon?.classList.add("hidden");
		});
	});
</script>
