---
import { Image } from "astro:assets";
import footerBg from "../../assets/footer_bg.png";
import Icon from "../ui/Icon.astro";
import { Facebook, Instagram, Twitter, Youtube } from "@lucide/astro";
---

<footer class="footer relative overflow-hidden bg-kfood-primary text-white">
	<div class="absolute inset-0 w-full overflow-hidden pointer-events-none" aria-hidden="true">
		<Image src={footerBg} alt="" class="h-full w-full object-cover object-bottom" quality={80} />
	</div>
	<div
		class="pointer-events-none absolute inset-0"
		aria-hidden="true"
		style="background: linear-gradient(to bottom, rgba(1,48,73,0.4) 0%, rgba(1,48,73,0.75) 100%);">
	</div>

	<div class="relative z-10 mx-auto max-w-[1440px] px-[6%] pt-16 pb-12">
		<div class="footer-grid">
			<!-- Left Column: Logo, company info, payment, newsletter -->
			<div class="footer-col-left">
				<a href="/" class="inline-block mb-6">
					<Icon icon="LogoWhite" class="h-[117px] w-auto" />
				</a>
				<p class="footer-company">Waseela Pakistan Private Limited</p>
				<p class="footer-address">DHA Phase 8 - Ex Park View, Block D, CHS, Lahore</p>
				<div class="flex flex-wrap items-center gap-3 mb-10">
					<Icon icon="Cash" />
					<Icon icon="Easypaisa" />
					<Icon icon="Jazzcash" />
					<Icon icon="Visa" />
					<Icon icon="Mastercard" />
				</div>
				<p class="footer-subscribe-title">SUBSCRIBE TO OUR NEWSLETTER</p>
				<form id="footer-newsletter-form" action="#" method="post">
					<input
						type="email"
						name="email"
						placeholder="Email"
						class="footer-email-input"
					/>
				</form>
			</div>

			<!-- Middle Column: Services + Need Help + Social -->
			<div class="footer-col-middle">
				<h3 class="footer-heading">Services</h3>
				<ul class="footer-links">
					<li><a href="#" class="hover:text-kfood-background transition-colors">Shop Online</a></li>
					<li><a href="#" class="hover:text-kfood-background transition-colors">Store Locations</a></li>
					<li><a href="#" class="hover:text-kfood-background transition-colors">Our Story</a></li>
					<li><a href="#" class="hover:text-kfood-background transition-colors">News</a></li>
					<li><a href="#" class="hover:text-kfood-background transition-colors">Corporate Info</a></li>
				</ul>
				<div class="footer-bottom-row">
					<div class="footer-help-block">
						<p class="footer-need-help">Need Help?</p>
						<p class="footer-contact-us">Contact Us</p>
					</div>
					<div class="footer-social" aria-label="Social links">
						<a href="#" class="footer-social-icon" aria-label="Facebook">
							<Facebook size={22} />
						</a>
						<a href="#" class="footer-social-icon" aria-label="Instagram">
							<Instagram size={22} />
						</a>
						<a href="#" class="footer-social-icon" aria-label="Twitter">
							<Twitter size={22} />
						</a>
						<a href="#" class="footer-social-icon" aria-label="YouTube">
							<Youtube size={22} />
						</a>
					</div>
				</div>
			</div>

			<!-- Right Column: Policies -->
			<div class="footer-col-right">
				<h3 class="footer-heading">Policies</h3>
				<ul class="footer-links">
					<li><a href="#" class="hover:text-kfood-background transition-colors">Privacy Policy</a></li>
					<li><a href="#" class="hover:text-kfood-background transition-colors">Terms of Service</a></li>
					<li><a href="#" class="hover:text-kfood-background transition-colors">Sitemap</a></li>
				</ul>
			</div>
		</div>
	</div>
</footer>

<style>
	/* Grid layout */
	.footer-grid {
		display: grid;
		grid-template-columns: 1fr;
		gap: 3rem;
	}
	@media (min-width: 768px) {
		.footer-grid {
			grid-template-columns: 35% 1fr auto;
			gap: 2rem;
		}
	}

	/* Left column */
	.footer-company {
		font-family: "Josefin Sans", sans-serif;
		font-weight: 700;
		font-size: 20px;
		line-height: 30px;
		color: #ffffff;
		margin-bottom: 0.25rem;
	}
	.footer-address {
		font-family: "Josefin Sans", sans-serif;
		font-weight: 400;
		font-size: 20px;
		line-height: 30px;
		color: #ffffff;
		margin-bottom: 1.5rem;
	}
	.footer-subscribe-title {
		font-family: "Josefin Sans", sans-serif;
		font-weight: 700;
		font-size: 25px;
		line-height: 25px;
		color: #fbeee0;
		margin-bottom: 1rem;
	}
	.footer-email-input {
		font-family: "Josefin Sans", sans-serif;
		font-weight: 400;
		font-size: 20px;
		line-height: 30px;
		color: #013049;
		width: 100%;
		max-width: 340px;
		padding: 10px 16px;
		background: #fbeee0;
		border: none;
		border-radius: 10px;
		outline: none;
	}
	.footer-email-input::placeholder {
		color: #013049;
		opacity: 0.7;
	}

	/* Headings */
	.footer-heading {
		font-family: "Oswald", sans-serif;
		font-weight: 500;
		font-size: 35px;
		line-height: 40px;
		color: #fbeee0;
		margin-bottom: 0.75rem;
	}

	/* Links */
	.footer-links {
		font-family: "Josefin Sans", sans-serif;
		font-weight: 400;
		font-size: 24px;
		line-height: 50px;
		color: #ffffff;
		list-style: none;
		padding: 0;
		margin: 0;
	}

	/* Bottom row: Need Help + Social icons */
	.footer-bottom-row {
		display: flex;
		align-items: flex-end;
		gap: 1.5rem;
		margin-top: auto;
		padding-top: 1.5rem;
	}
	.footer-help-block {
		flex-shrink: 0;
	}
	.footer-need-help {
		font-family: "Josefin Sans", sans-serif;
		font-weight: 400;
		font-size: 24px;
		line-height: 30px;
		color: #ffffff;
	}
	.footer-contact-us {
		font-family: "Josefin Sans", sans-serif;
		font-weight: 700;
		font-size: 24px;
		line-height: 30px;
		color: #ffffff;
	}

	/* Social icons */
	.footer-social {
		display: flex;
		align-items: center;
		gap: 12px;
	}
	.footer-social-icon {
		display: flex;
		align-items: center;
		justify-content: center;
		width: 47px;
		height: 47px;
		border-radius: 50%;
		background: #fbeee0;
		color: #013049;
		transition: opacity 0.2s;
		flex-shrink: 0;
	}
	.footer-social-icon:hover {
		opacity: 0.85;
	}

	/* Middle column stretches to push bottom row down */
	.footer-col-middle {
		display: flex;
		flex-direction: column;
	}
</style>

<script>
	document.getElementById("footer-newsletter-form")?.addEventListener("submit", (e) => {
		e.preventDefault();
	});
</script>
