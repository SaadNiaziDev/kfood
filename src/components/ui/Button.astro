---
interface Props {
	variant?: "primary" | "secondary" | "accent";
	size?: "sm" | "md" | "lg" | "stretch";
	href?: string;
	class?: string;
}

const { variant = "primary", size = "md", href, class: className = "" } = Astro.props;

const baseClasses = "font-body font-medium rounded-lg transition-all duration-200 inline-block text-center";

const variantClasses = {
	primary: "bg-kfood-orange text-white hover:bg-kfood-primary hover:shadow-lg",
	secondary: "bg-kfood-green text-white hover:opacity-90",
	accent: "bg-kfood-yellow text-kfood-body hover:opacity-90",
};

const sizeClasses = {
	sm: "px-4 py-2 text-sm",
	md: "px-6 py-3 text-base",
	lg: "px-8 py-4 text-lg",
	stretch: "px-6 py-2 w-full",
};

const classes = `${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${className}`;
---

{
	href ? (
		<a
			href={href}
			class={classes}
			target={href.startsWith("http") ? "_blank" : undefined}
			rel={href.startsWith("http") ? "noopener noreferrer" : undefined}>
			<slot />
		</a>
	) : (
		<button class={classes}>
			<slot />
		</button>
	)
}
